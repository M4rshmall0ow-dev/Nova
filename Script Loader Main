if not game:IsLoaded() then
    game.Loaded:Wait()
end

local MaintenanceIDs = {
    [126509999114328] = true,
    [86362492050446] = true,
    [131623223084840] = true,
    [119987266683883] = true
}

local currentPlaceId = game.PlaceId
local currentGameId = game.GameId

local function getSafeGuiParent()
    if gethui then return gethui() end
    local CoreGui = game:GetService("CoreGui")
    local success = pcall(function() return CoreGui.Name end)
    if success then return CoreGui end
    return game:GetService("Players").LocalPlayer:WaitForChild("PlayerGui")
end

local function showMaintenanceUI()
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "MaintenanceGui"
    screenGui.DisplayOrder = 9999
    screenGui.ResetOnSpawn = false
    screenGui.Parent = getSafeGuiParent()

    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(0, 350, 0, 100)
    frame.Position = UDim2.new(0.5, -175, 0.5, -50)
    frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    frame.BorderSizePixel = 0
    frame.Active = true
    frame.Draggable = true
    frame.Parent = screenGui

    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 8)
    corner.Parent = frame

    local stroke = Instance.new("UIStroke")
    stroke.Color = Color3.fromRGB(255, 50, 50)
    stroke.Thickness = 2
    stroke.Parent = frame

    local textLabel = Instance.new("TextLabel")
    textLabel.Size = UDim2.new(1, 0, 1, 0)
    textLabel.Text = "⚠️ Script is under maintenance!"
    textLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    textLabel.BackgroundTransparency = 1
    textLabel.Font = Enum.Font.GothamBold
    textLabel.TextSize = 18
    textLabel.Parent = frame
end

if MaintenanceIDs[currentPlaceId] or MaintenanceIDs[currentGameId] then
    showMaintenanceUI()
    return
end
